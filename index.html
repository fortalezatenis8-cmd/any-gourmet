<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atelier de Brigadeiros | Pedido Premium</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root { --brown: #4e3629; --gold: #b89356; --cream: #fdfaf6; --white: #ffffff; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Poppins', sans-serif; background-color: var(--cream); color: #333; padding-bottom: 100px; }
        
        header { 
            background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('https://images.unsplash.com/photo-1570476922354-81227cdbb76c?auto=format&fit=crop&q=80&w=1000') center/cover;
            height: 30vh; display: flex; flex-direction: column; justify-content: center; align-items: center; color: white; border-bottom: 5px solid var(--gold);
        }
        header h1 { font-family: 'Playfair Display', serif; font-size: 2.5rem; }

        .container { max-width: 900px; margin: 0 auto; padding: 20px; }
        .category-title { font-family: 'Playfair Display', serif; font-size: 1.8rem; margin: 40px 0 20px; border-left: 4px solid var(--gold); padding-left: 15px; color: var(--brown); }

        /* GRID DOCES */
        .grid-doces { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; }
        .card-doce { background: var(--white); border-radius: 15px; overflow: hidden; border: 1px solid #eee; display: flex; flex-direction: column; transition: 0.3s; }
        .card-doce:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.05); }
        .doce-img { width: 100%; height: 180px; object-fit: cover; }
        .doce-info { padding: 15px; text-align: center; flex-grow: 1; }
        .doce-info h4 { font-family: 'Playfair Display', serif; font-size: 1.2rem; }
        .price-tag { color: var(--gold); font-weight: 600; display: block; margin: 10px 0; font-size: 0.9rem; }
        
        .selector { display: flex; align-items: center; justify-content: center; gap: 15px; margin-top: auto; padding-bottom: 15px; }
        .btn-math { background: var(--brown); color: white; border: none; width: 30px; height: 30px; border-radius: 50%; cursor: pointer; }
        .qty-num { font-weight: 600; font-size: 1.1rem; min-width: 25px; text-align: center; }

        /* FORMUL√ÅRIO DE CHECKOUT */
        .checkout-form { background: var(--white); padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); margin-top: 50px; border: 1px solid var(--gold); }
        .checkout-form h3 { font-family: 'Playfair Display', serif; margin-bottom: 20px; color: var(--brown); text-align: center; }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; font-size: 0.8rem; font-weight: 600; margin-bottom: 5px; color: #666; }
        .form-group input, .form-group select { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-family: 'Poppins', sans-serif; }
        
        .row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }

        .cart-footer { position: fixed; bottom: 0; left: 0; width: 100%; background: var(--white); padding: 20px; box-shadow: 0 -10px 20px rgba(0,0,0,0.05); display: flex; justify-content: space-around; align-items: center; z-index: 1000; border-top: 3px solid var(--gold); }
        .total-val { font-size: 1.5rem; font-weight: 700; color: var(--brown); font-family: 'Playfair Display', serif; }
        .btn-order { background: #25d366; color: white; padding: 12px 30px; border-radius: 50px; border: none; font-weight: 600; cursor: pointer; }
    </style>
</head>
<body>

<header>
    <h1>Atelier Gourmet</h1>
    <p>O sabor da eleg√¢ncia</p>
</header>

<div class="container">
    <div id="grid-tradicional-title" class="category-title">Doces Tradicionais</div>
    <div id="grid-tradicional" class="grid-doces"></div>

    <div id="grid-especial-title" class="category-title">Doces Especiais</div>
    <div id="grid-especial" class="grid-doces"></div>

    <div id="grid-premium-title" class="category-title">Doces Premium</div>
    <div id="grid-premium" class="grid-doces"></div>

    <div class="checkout-form">
        <h3>Dados para Encomenda</h3>
        <div class="form-group">
            <label>Nome Completo</label>
            <input type="text" id="cli_nome" placeholder="Como podemos te chamar?">
        </div>
        <div class="row">
            <div class="form-group">
                <label>WhatsApp / Telefone</label>
                <input type="tel" id="cli_tel" placeholder="(00) 00000-0000">
            </div>
            <div class="form-group">
                <label>Forma de Pagamento</label>
                <select id="cli_pagto">
                    <option value="Pix">Pix</option>
                    <option value="Cart√£o de Cr√©dito">Cart√£o de Cr√©dito</option>
                    <option value="Dinheiro">Dinheiro</option>
                </select>
            </div>
        </div>
        <div class="row">
            <div class="form-group">
                <label>Rua e N√∫mero</label>
                <input type="text" id="cli_rua" placeholder="Ex: Rua das Flores, 123">
            </div>
            <div class="form-group">
                <label>Bairro</label>
                <input type="text" id="cli_bairro" placeholder="Seu bairro">
            </div>
        </div>
        <div class="form-group">
            <label>Cidade</label>
            <input type="text" id="cli_cidade" value="Fortaleza" placeholder="Sua cidade">
        </div>
    </div>
</div>

<div class="cart-footer">
    <div class="total-val">R$ <span id="resumo-total">0,00</span></div>
    <button class="btn-order" onclick="enviarPedido()">FINALIZAR NO WHATSAPP</button>
</div>
    <script>
    // TABELAS DE PRE√áO CONFORME SUAS FOTOS
    const tabelas = {
        tradicional: [
            {min: 25, preco: 1.80}, {min: 20, preco: 2.00}, {min: 15, preco: 2.40},
            {min: 12, preco: 2.60}, {min: 10, preco: 2.80}, {min: 8, preco: 3.20}, {min: 5, preco: 4.00}
        ],
        especial: [
            {min: 25, preco: 1.90}, {min: 20, preco: 2.15}, {min: 15, preco: 2.60},
            {min: 12, preco: 2.85}, {min: 10, preco: 3.10}, {min: 8, preco: 3.55}, {min: 5, preco: 4.50}
        ],
        premium: [
            {min: 25, preco: 2.00}, {min: 20, preco: 2.30}, {min: 15, preco: 2.80},
            {min: 12, preco: 3.10}, {min: 10, preco: 3.40}, {min: 8, preco: 3.90}, {min: 5, preco: 5.00}
        ]
    };

    // ADICIONE SEUS SABORES AQUI ABAIXO
    const produtos = [
        { id: 1, nome: "Chocolate Tradicional", cat: "tradicional", img: "https://via.placeholder.com/300?text=Tradicional" },
        { id: 2, nome: "Cajuzinho", cat: "tradicional", img: "https://via.placeholder.com/300?text=Cajuzinho" },
        { id: 3, nome: "Ninho com Nutella", cat: "especial", img: "https://via.placeholder.com/300?text=Ninho+Nutella" },
        { id: 4, nome: "Churros Gourmet", cat: "especial", img: "https://via.placeholder.com/300?text=Churros" },
        { id: 5, nome: "Pistache Premium", cat: "premium", img: "https://via.placeholder.com/300?text=Pistache" }
    ];

    let carrinho = {};

    function render() {
        produtos.forEach(p => {
            document.getElementById(`grid-${p.cat}`).innerHTML += `
                <div class="card-doce">
                    <img src="${p.img}" class="doce-img">
                    <div class="doce-info">
                        <h4>${p.nome}</h4>
                        <span class="price-tag" id="tag-${p.id}">A partir de R$ ${tabelas[p.cat][6].preco.toFixed(2)}</span>
                        <div class="selector">
                            <button class="btn-math" onclick="updateQty(${p.id}, -1)">-</button>
                            <span class="qty-num" id="qty-${p.id}">0</span>
                            <button class="btn-math" onclick="updateQty(${p.id}, 1)">+</button>
                        </div>
                    </div>
                </div>
            `;
        });
    }

    function updateQty(id, delta) {
        if (!carrinho[id]) carrinho[id] = { ...produtos.find(x => x.id === id), qty: 0 };
        carrinho[id].qty += delta;
        if (carrinho[id].qty < 0) carrinho[id].qty = 0;
        document.getElementById(`qty-${id}`).innerText = carrinho[id].qty;
        calculate();
    }

    function calculate() {
        let total = 0;
        for (let id in carrinho) {
            const item = carrinho[id];
            if (item.qty >= 5) {
                const faixa = tabelas[item.cat].find(f => item.qty >= f.min) || {preco: 5.00};
                total += item.qty * faixa.preco;
                document.getElementById(`tag-${id}`).innerText = `Unit√°rio: R$ ${faixa.preco.toFixed(2)}`;
            }
        }
        document.getElementById('resumo-total').innerText = total.toFixed(2).replace('.', ',');
    }

    function enviarPedido() {
        const nome = document.getElementById('cli_nome').value;
        const tel = document.getElementById('cli_tel').value;
        const rua = document.getElementById('cli_rua').value;
        const bairro = document.getElementById('cli_bairro').value;
        const cidade = document.getElementById('cli_cidade').value;
        const pagto = document.getElementById('cli_pagto').value;

        if (!nome || !rua || !bairro) return alert("Por favor, preencha os dados de entrega.");

        const agora = new Date();
        const dataStr = agora.toLocaleDateString('pt-BR');
        const horaStr = agora.toLocaleTimeString('pt-BR', {hour: '2-digit', minute:'2-digit'});
        
        // Gera√ß√£o Autom√°tica do Link do Google Maps
        const linkMaps = `https://www.google.com/maps/search/${encodeURIComponent(rua + ', ' + bairro + ', ' + cidade)}`;

        let msg = `‚ú® *NOVA ENCOMENDA - ATELIER* ‚ú®\n`;
        msg += `üìÖ *Data:* ${dataStr} | üïí *Hora:* ${horaStr}\n\n`;
        msg += `üë§ *Cliente:* ${nome}\n`;
        msg += `üìû *Contato:* ${tel}\n`;
        msg += `üí≥ *Pagamento:* ${pagto}\n\n`;
        msg += `üìç *ENDERE√áO DE ENTREGA:*\n`;
        msg += `${rua}, ${bairro} - ${cidade}\n`;
        msg += `üîó *Mapa:* ${linkMaps}\n\n`;
        msg += `üõçÔ∏è *ITENS DA ENCOMENDA:*\n`;

        let total = 0;
        let temItens = false;
        for (let id in carrinho) {
            const item = carrinho[id];
            if (item.qty >= 5) {
                temItens = true;
                const faixa = tabelas[item.cat].find(f => item.qty >= f.min);
                let sub = item.qty * faixa.preco;
                msg += `‚Ä¢ ${item.qty}x ${item.nome} (R$ ${sub.toFixed(2)})\n`;
                total += sub;
            }
        }

        if (!temItens) return alert("Adicione pelo menos 5 unidades de algum doce.");

        msg += `\nüí∞ *VALOR TOTAL: R$ ${total.toFixed(2)}*`;
        
        window.open(`https://wa.me/5585992000433?text=${encodeURIComponent(msg)}`);
    }

    render();
</script>
</body>
</html>

